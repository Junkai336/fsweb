<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML+JS</title>
</head>

<body>
    <h1>스코프(Scope)</h1>
    <script>
        /*
            스코프(Scope): 변수 또는 함수의 유효 범위

            지역 변수/함수(Local Variables/Function)
                - 스코프 영역에서 선언한 변수/함수로 스코프 영역에서만 사용할 수 있다.
           
            전역 변수/함수(Global Variables/Function)
                - 자바스크립트 모든 영역에서 사용할 수 있는 변수/함수

            지역 함수(Local Function)
                - 스코프 영역에서 선언한 함수로 스코프 영역에서만 호출될 수 있다.

            전역 함수(Global Function)
                - 모든 영역에서 호출될 수 있는 함수
        */

        /*
            변수 키워드: var -> let, const

            재귀호출(자기호출)함수 -> 무한 루프에 빠진다.
                function함수() {
                        함수();
                }
                함수();

            즉시호출함수
                (function함수(){
                    코드;
                }());

                

            var : 함수 영역 변수 -> 함수(){}
                전역 변수: 함수 밖에서 선언한 변수
                지역 변수: 함수 내에서 선언한 변수
                함수 내에서 전역 변수 값 변경 가능
                지역 변수는 함수 밖에서 변경 불가능
                전역 변수와 같은 이름을 지역 변수를 재선언하면 전역 변수와 관계 없는 별 개의 변수로 사용된다.
                함수 내에서 선언 없이 할당한 변수는 전역 변수와 같이 사용된다.
                제어문에서 선언한 변수는 전역 변수와 같이 사용된다.
                사용 후 아래서 선언할 수 있다.(호이스팅 가능)
                재선언 가능(재선언 시 먼저 선언한 변수는 무시된다.)

            let : {블록 영역 변수} -> 함수(){}, for(){}
                변하는 값 저장
                전역 변수: 블록 밖에서 선언한 변수
                지역 변수: 블록 안에서 선언한 변수
                선언 후 사용(호이스팅 불가)
                재선언 불가

            const : {블록 영역 변수} -> 함수(){}, for(){}
                고정 값(상수) 저장
                전역 변수: 블록 밖에서 선언한 변수
                지역 변수: 블록 안에서 선언한 변수
                선언과 할당을 함께 해야함. (호이스탕 불가)
                재선언, 재할당 불가
                요소, 배열, 객체, 함수를 할당하여 사용한다.
        */

        /* 
                var: 함수 안/밖, 호이스팅(o), 재선언(o), 재할당(o), 변수/상수 값
                let: 블록 안/밖, 호이스팅(x), 재선언(x), 재할당(o), 변수 값
                const: 블록 안/밖, 호이스팅(x), 재선언(x), 재할당(x), 상수 값 (변하지 않는 값만 사용)
        
        */

        // var은 변수의 재선언 및 재할당이 가능하다.
        // 선언
        // 전역변수
        var global1;
        var global1;
        // 할당
        global1 = 10;
        global1 = 20;

        var global1 = 10;
        var global1 = 25;

        function fna() {
            // 지역변수 (함수안에서만 쓸 수 있다~)
            var local1 = 30;
            var global1 = 35;
            console.log(`var local1 함수안 ${local1}`);
            console.log(`var global1 함수안 ${global1}`);
        }

        function fna2() {
            var global1 = 45;
            console.log(global1);
        }

        fna();
        fna2();
        
        // var global1;
        console.log(`var global1 함수밖 ${global1}`);
        
        // 지역 변수는 함수 밖에서 사용할 수 없다.
        // console.log(`var local1 함수밖 ${local1}`);

        // let은 변수의 재선언 불가능 but 재할당 가능
        // 블록이란? = 중괄호 {}
        let global2;
        
        function fn() {
            let global2
        }

        console.log(`let global2 ${global2}`);

        // variable(변수)는 변수의 변할 수 있는 값
        // constant(상수)는 변하지 않는 고정 값
        // const는 변수 선언 동시에 할당까지 해야함. 그래야지 에러가 안남.
        // const는 재선언, 재할당 불가능
        // const는 익명 함수, 요소 선택 등 사용된다.
        const global3 = 10;

        // function fn() {

        // }

        // undefined: 변수에 값이 등록되기 전의 기본값 (값이 등록이 안되었다.)
        //            변수를 선언 후 할당 값이 없을 때 
        
        // 선언 없이 사용한 변수는 전역 변수로 사용된다.

    </script>
</body>

</html>